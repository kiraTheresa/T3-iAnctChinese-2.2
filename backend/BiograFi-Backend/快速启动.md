# BiograFi-Backend 快速启动

## 环境要求

- JDK 17+
- Maven 3.8+
- MySQL 8.0+（可选，生产环境使用）

## 快速开始

### 1. 克隆项目

```bash
git clone <repository-url>
cd BiograFi-Backend
```

### 2. 配置环境

#### 开发环境（默认使用 H2 数据库）

开发环境下无需额外配置，项目默认使用 H2 内存数据库。

#### 生产环境（使用 MySQL 数据库）

1. 创建 MySQL 数据库：

```sql
CREATE DATABASE biografi CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

2. 配置 `application.yaml` 文件中的 MySQL 连接信息：

```yaml
spring:
  config:
    activate:
      on-profile: prod
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/biografi?useUnicode=true&characterEncoding=utf-8&serverTimezone=UTC
    username: root
    password: root
```

### 3. 构建项目

```bash
mvn clean package
```

### 4. 运行项目

#### 开发环境

```bash
mvn spring-boot:run
```

#### 生产环境

```bash
java -jar -Dspring.profiles.active=prod target/BiograFi-Backend-0.0.1-SNAPSHOT.jar
```

### 5. 验证项目是否启动成功

访问以下地址，检查项目是否正常运行：

- 健康检查：http://localhost:5002/api/health
- Swagger UI：http://localhost:5002/swagger-ui.html
- API 文档：http://localhost:5002/v3/api-docs

## 默认测试账号

```
用户名：admin
密码：admin123
```

## 主要功能

- 用户管理：注册、登录、更新用户信息
- 项目管理：创建、查询、更新、删除项目
- 文档管理：创建、查询、更新、删除文档
- 实体标注：添加、查询、删除实体标注
- 可视化分析：总览统计、地点可视化、人物关系图、时间轴
- 导出功能：导出文档及标注

## 开发工具

### IDE 推荐

- IntelliJ IDEA
- Eclipse
- VS Code

### 代码检查

```bash
mvn compile
```

### 运行测试

```bash
mvn test
```

## 常见问题

### 1. 端口被占用

修改 `application.yaml` 中的 `server.port` 配置：

```yaml
server:
  port: 8080
```

### 2. 数据库连接失败

检查数据库连接配置是否正确，包括 URL、用户名、密码。

### 3. Maven 依赖下载失败

```bash
mvn clean install -U
```

### 4. Swagger UI 无法访问

检查项目是否成功启动，以及 `springdoc` 相关配置是否正确。

## 技术支持

如遇到问题，欢迎提交 Issue 或联系开发团队。
